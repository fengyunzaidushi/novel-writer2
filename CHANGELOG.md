# 更新日志

## [0.5.6] - 2025-09-23

### 新增
- **写作风格插件**：新增三个写作风格插件
  - `luyao-style` - 路遥风格写作插件
  - `shizhangyu-style` - 施章渝风格写作插件
  - `wangyu-style` - 王毓风格写作插件

## [0.4.3] - 2025-09-21

### 改进
- **默认版本号更新**：将 version.ts 中的默认版本号从 0.4.1 更新为 0.4.2
- **版本一致性**：确保所有版本引用保持同步

## [0.4.2] - 2025-09-21

### 改进
- **统一版本管理**：实现自动从 package.json 读取版本号的模块
- **知识库模板系统**：将硬编码的知识库文件改为模板文件系统
- **代码优化**：简化 cli.ts 代码结构，提高可维护性

### 修复
- **版本号统一**：通过 version.ts 模块确保版本号一致性

## [0.4.0] - 2025-09-21

### 新增
- **情节追踪系统** (`/plot-check`)：追踪情节节点、伏笔和冲突发展
- **时间线管理** (`/timeline`)：维护故事时间轴，确保时间逻辑一致
- **关系矩阵** (`/relations`)：管理角色关系和派系动态
- **世界观检查** (`/world-check`)：验证设定一致性，避免矛盾
- **综合追踪** (`/track`)：全方位查看创作状态
- **spec目录结构**：新增 `spec/tracking` 和 `spec/knowledge` 目录
- **知识库模板**：
  - `world-setting.md` - 世界观设定模板
  - `character-profiles.md` - 角色档案模板
  - `character-voices.md` - 角色语言档案模板
  - `locations.md` - 场景地点模板

### 改进
- **追踪文件模板**：提供完整的 JSON 追踪文件模板
- **一致性检查脚本**：实现综合的一致性验证系统
- **工作流程增强**：添加质量保障流程

## [0.3.7] - 2025-09-20

### 新增

- **时间获取指导**：在命令模板中添加提示，指导 AI 使用 `date` 命令获取系统日期
- **自动日期生成**：脚本会预先生成正确的系统日期供 AI 参考

### 改进

- **灵活的卷册管理**：章节现在会自动从 outline.md 解析卷册结构，不再硬编码4卷
- **动态章节数量**：支持从 outline.md 读取总章节数，不再限制为240章
- **进度文件时间戳**：progress.json 现在包含创建和更新时间戳

### 修复

- **日期生成错误**：修复了 AI 生成错误日期的问题（如2025-01-20而非2025-09-20）

## [0.3.6] - 2025-01-20

### 修复

- **目录命名问题**：修复了故事目录生成时名称为 `001-` 的问题
  - 采用 spec-kit 的方式处理目录名，只提取英文单词
  - 纯中文描述时使用默认名称 `story`
- **章节组织结构**：修复了章节按卷册结构生成的功能
  - 章节现在会根据编号自动放入对应的卷册目录（volume-1 至 volume-4）
  - 第1-60章在 volume-1，第61-120章在 volume-2，以此类推

## [0.3.5] - 2025-01-20

### 修复

- 修复了 `novel init` 命令生成的 `.claude/commands/` 配置文件格式问题
- 保留了命令文件中完整的 frontmatter 和 scripts 部分，确保 Claude 能正确识别和执行命令
- 简化了 `generateMarkdownCommand` 函数，直接返回完整模板内容

## [0.3.4] - 之前版本

### 新增

- 初始版本发布
- 支持 Claude、Cursor、Gemini、Windsurf 多种 AI 助手
- 提供了完整的小说创作工作流命令
